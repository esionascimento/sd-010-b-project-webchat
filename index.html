<!DOCTYPE html>
<html lang="pt">
 
<head>
 <title> Socket IO </title>
 
</head>
 
<body>
 
 <ul id="messages">
 </ul>

 <form id="form" action="">
   <input type="text" id="nickname" placeholder="Qual seu nick">
   <input type="text" id="input" placeholder="Digite sua mensagem">
   <button>Enviar</button>
 </form>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.0.4/socket.io.js"></script>

 <script>
   const socket = io();
   const form = document.querySelector('#form');
   const input = document.querySelector('#input');
   const messages = document.querySelector('#messages');
   const nickName = document.querySelector('#nickname')   

   form.addEventListener('submit', (e) => {
     e.preventDefault();
     socket.emit('message', {chatMessage: input.value, nickname: nickName.value});
     input.value = '';
   });

   socket.on('message', (data) => {
     const li = document.createElement('li');
     li.innerHTML = data;
     messages.appendChild(li);
   });

 </script>
 
</body>
 
</html>
